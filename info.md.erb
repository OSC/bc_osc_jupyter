<%
  begin
    data = JSON.parse(user_defined_context_file.read)
  rescue
    data = {}
  end

  version = data['version'].to_s
  switch = data['jupyterlab_switch'].to_s
  use_extension = data['use_extension'].to_s
  classroom = data['classroom'].to_s

  def jupyterlab_dir(version)
    base = "#{OodSupport::User.new.dir}/.jupyter/lab"
    match = version.match('app_jupyter/(?<maj_min_version>\d+\.\d+)')
    maj_min_version = if !match.nil? && match.named_captures.key?('maj_min_version')
                        match[:maj_min_version]
                      else
                        'unknown'
                      end

    "#{base}/#{maj_min_version}"
  end
%>
**Information:**

- JupyterLab version: <%= version.split('/').last %>
- Use JupyterLab: <%= switch == "1" ? "Yes" : "No" %>
<%- if classroom != "1" -%>
- JupyterLab extensions enabled: <%= use_extension == "1" ? "Yes" : "No" %>
<% if use_extension == "1" -%>
- JupyterLab application directory: <%= jupyterlab_dir(version) %>
<%- end -%>
<%- end -%>

