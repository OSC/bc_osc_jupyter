<%
  begin
    data = JSON.parse(user_defined_context_file.read)
  rescue
    data = {}
  end

  version = data['version'].to_s
  switch = data['jupyterlab_switch'].to_s
  use_extension = data['use_extension'].to_s
  classroom = data['classroom'].to_s

  def jupyterlab_dir
    base = "#{OodSupport::User.new.dir}/.juypter/lab"
    match = JSON.parse(user_defined_context_file.read)['version'].to_s.match('app_jupyter/(?<majmin>\d+\.\d+)')
    majmin = if !match.nil? && match.named_captures.key?('majmin')
               match[:majmin]
             else
               'unknown'
             end

    "#{base}/#{majmin}"
  end
%>
**Information:**

- JupyterLab version: <%= version.split('/').last %>
- Use JupyterLab: <%= switch == "1" ? "Yes" : "No" %>
<%- if classroom != "1" -%>
- JupyterLab extensions enabled: <%= use_extension == "1" ? "Yes" : "No" %>
<% if use_extension == "1" -%>
- JupyterLab application directory: <%= jupyterlab_dir %>
<%- end -%>
<%- end -%>

